{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function fetchImages(query, page = 1, perPage = 15) {\n    const apiKey = '45999578-eb7202f1a65d28d69ebdccc58';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n    try {\n        const response = await axios.get(url);\n        if (response.status !== 200) {\n            throw new Error('Network response was not ok');\n        }\n        return response.data.hits;\n    } catch (error) {\n        console.error('Error fetching images:', error);\n        throw error;\n    }\n}\n","import iziToast from 'izitoast'; \n\nexport function renderImages(images, galleryElement) {\n    if (!images || images.length === 0) {\n        iziToast.warning({\n            title: 'No results',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            timeout: 5000,\n        });\n        return;\n    }\n  \n    const markup = images.map(image => {\n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\" height=\"152\" />\n          </a>\n          <div class=\"gallery-item-info\">\n            <p class=\"stats\"><b>Likes</b> ${image.likes}</p>\n            <p class=\"stats\"><b>Views</b> ${image.views}</p>\n            <p class=\"stats\"><b>Comments</b> ${image.comments}</p>\n            <p class=\"stats\"><b>Downloads</b> ${image.downloads}</p>\n          </div>\n        </li>\n      `;\n    }).join(''); \n  \n    galleryElement.insertAdjacentHTML('beforeend', markup); \n}\n\n\nexport function clearGallery(galleryElement) {\n    galleryElement.innerHTML = ''; \n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api.js'\nimport { renderImages, clearGallery } from './js/render-functions.js';\n\n\nlet lightbox = new SimpleLightbox('.gallery-list a', {});\nlet currentQuery = ''; \nlet page = 1; \nconst perPage = 15; \n\nconst searchForm = document.getElementById('search-form');\nconst galleryList = document.getElementById('gallery');\nconst loadMoreButton = document.getElementById('load-more');\nconst loader = document.getElementById('loader');\n\nasync function loadImages() {\n    loader.style.display = 'block'; \n    loadMoreButton.style.display = 'none'; \n\n    try {\n        const images = await fetchImages(currentQuery, page, perPage);\n\n        if (images.length === 0 && page === 1) {\n            iziToast.warning({\n                title: 'No results',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                timeout: 5000,\n            });\n            loader.style.display = 'none';\n            return;\n        }\n\n        renderImages(images, galleryList);\n        lightbox.refresh();\n\n        if (images.length === perPage) {\n            loadMoreButton.style.display = 'block';\n        } else {\n            loadMoreButton.style.display = 'none'; // \n        }\n\n        loader.style.display = 'none'; \n        page += 1; \n    } catch (error) {\n        console.error('Error fetching images:', error);\n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred while fetching images. Please try again later.',\n            position: 'topRight',\n            timeout: 5000,\n        });\n        loader.style.display = 'none';\n    }\n}\n\n\nsearchForm.addEventListener('submit', function(event) {\n    event.preventDefault();\n\n    const searchInput = document.getElementById('search-input').value.trim();\n\n    if (!searchInput) {\n        iziToast.error({ message: 'Please enter a search word.' });\n        return;\n    }\n\n   \n    if (searchInput !== currentQuery) {\n        currentQuery = searchInput;\n        page = 1; \n        clearGallery(galleryList); \n    }\n\n    loadMoreButton.style.display = 'none'; \n    loadImages(); \n});\n\n\nloadMoreButton.addEventListener('click', function() {\n    loadImages(); \n});\n"],"names":["fetchImages","query","page","perPage","url","response","axios","error","renderImages","images","galleryElement","iziToast","markup","image","clearGallery","lightbox","SimpleLightbox","currentQuery","searchForm","galleryList","loadMoreButton","loader","loadImages","event","searchInput"],"mappings":"owBAEO,eAAeA,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAE7D,MAAMC,EAAM,qEAA4C,mBAAmBH,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAE1K,GAAI,CACA,MAAME,EAAW,MAAMC,EAAM,IAAIF,CAAG,EACpC,GAAIC,EAAS,SAAW,IACpB,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,KAAK,IACxB,OAAQE,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CACL,CCdO,SAASC,EAAaC,EAAQC,EAAgB,CACjD,GAAI,CAACD,GAAUA,EAAO,SAAW,EAAG,CAChCE,EAAS,QAAQ,CACb,MAAO,aACP,QAAS,2EACT,SAAU,WACV,QAAS,GACrB,CAAS,EACD,MACH,CAED,MAAMC,EAASH,EAAO,IAAII,GACjB;AAAA;AAAA,qBAEQA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,4CAGlBA,EAAM,KAAK;AAAA,4CACXA,EAAM,KAAK;AAAA,+CACRA,EAAM,QAAQ;AAAA,gDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,OAI1D,EAAE,KAAK,EAAE,EAEVH,EAAe,mBAAmB,YAAaE,CAAM,CACzD,CAGO,SAASE,EAAaJ,EAAgB,CACzCA,EAAe,UAAY,EAC/B,CC3BA,IAAIK,EAAW,IAAIC,EAAe,kBAAmB,CAAE,CAAA,EACnDC,EAAe,GACff,EAAO,EACX,MAAMC,EAAU,GAEVe,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,SAAS,EAC/CC,EAAiB,SAAS,eAAe,WAAW,EACpDC,EAAS,SAAS,eAAe,QAAQ,EAE/C,eAAeC,GAAa,CACxBD,EAAO,MAAM,QAAU,QACvBD,EAAe,MAAM,QAAU,OAE/B,GAAI,CACA,MAAMX,EAAS,MAAMT,EAAYiB,EAAcf,EAAMC,CAAO,EAE5D,GAAIM,EAAO,SAAW,GAAKP,IAAS,EAAG,CACnCS,EAAS,QAAQ,CACb,MAAO,aACP,QAAS,2EACT,SAAU,WACV,QAAS,GACzB,CAAa,EACDU,EAAO,MAAM,QAAU,OACvB,MACH,CAEDb,EAAaC,EAAQU,CAAW,EAChCJ,EAAS,QAAO,EAEZN,EAAO,SAAWN,EAClBiB,EAAe,MAAM,QAAU,QAE/BA,EAAe,MAAM,QAAU,OAGnCC,EAAO,MAAM,QAAU,OACvBnB,GAAQ,CACX,OAAQK,EAAO,CACZ,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CI,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mEACT,SAAU,WACV,QAAS,GACrB,CAAS,EACDU,EAAO,MAAM,QAAU,MAC1B,CACL,CAGAH,EAAW,iBAAiB,SAAU,SAASK,EAAO,CAClDA,EAAM,eAAc,EAEpB,MAAMC,EAAc,SAAS,eAAe,cAAc,EAAE,MAAM,OAElE,GAAI,CAACA,EAAa,CACdb,EAAS,MAAM,CAAE,QAAS,6BAA+B,CAAA,EACzD,MACH,CAGGa,IAAgBP,IAChBA,EAAeO,EACftB,EAAO,EACPY,EAAaK,CAAW,GAG5BC,EAAe,MAAM,QAAU,OAC/BE,GACJ,CAAC,EAGDF,EAAe,iBAAiB,QAAS,UAAW,CAChDE,GACJ,CAAC"}